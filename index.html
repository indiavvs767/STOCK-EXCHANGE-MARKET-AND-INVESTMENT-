<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>STOCK EXCHANGE MARKET AND INVESTMENT</title>

<!-- ================= STYLES ================= -->
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
    font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;
    background:#0b0e11;color:#eaecef;
    padding-top:70px;
}
a{text-decoration:none;color:#eaecef}
button{cursor:pointer}

.top-nav{
    position:fixed;top:0;left:0;width:100%;
    background:#161a1e;
    display:flex;align-items:center;
    padding:15px 20px;
    border-bottom:1px solid #2b3139;
    z-index:1000;
    flex-wrap:wrap;
}
.top-nav h1{color:#f0b90b;font-size:18px;margin-right:20px}
.top-nav a{
    padding:8px 14px;
    margin:3px;
    border-radius:6px;
    transition:.3s;
}
.top-nav a:hover{background:#2b3139}

.ticker{
    background:#0b0e11;
    border-bottom:1px solid #2b3139;
    padding:8px;
    font-size:14px;
    color:#f0b90b;
}

.container{max-width:1200px;margin:auto;padding:20px}

.modal{
    display:none;position:fixed;
    inset:0;background:rgba(0,0,0,.85);
    justify-content:center;align-items:center;
    z-index:2000;
}
.modal-content{
    background:#161a1e;
    padding:25px;
    width:90%;max-width:420px;
    border-radius:12px;
}
.modal-content h2{color:#f0b90b;margin-bottom:15px}
.modal-content input{
    width:100%;padding:12px;margin:8px 0;
    background:#0b0e11;border:1px solid #2b3139;
    color:#fff;border-radius:6px;
}
.modal-content button{
    width:100%;padding:12px;
    background:#f0b90b;border:none;
    font-weight:bold;border-radius:6px;
}
.modal-content button:hover{opacity:.9}
.error{color:#ff4d4f;margin-top:10px}

.dashboard,.investment,.history,.admin{display:none}

.card{
    background:#161a1e;
    padding:20px;
    border-radius:12px;
    margin-bottom:20px;
    transition:.3s;
}
.card:hover{border:1px solid #f0b90b}

.balances,.charts{display:flex;gap:15px}
.balance-card{flex:1;text-align:center}
.balance-card h3{color:#f0b90b;margin-bottom:5px}
.balance-card p{font-size:24px}

.actions{text-align:center;margin-top:15px}
.actions button{
    padding:10px 20px;
    margin:5px;
    background:#f0b90b;
    border:none;border-radius:6px;
}

.activity{
    max-height:180px;
    overflow:auto;
    font-size:14px;
}
.activity div{
    padding:6px 0;
    border-bottom:1px solid #2b3139;
}

footer{
    background:#161a1e;
    padding:20px;text-align:center;
    border-top:1px solid #2b3139;
}

@media(max-width:768px){
    .balances,.charts{flex-direction:column}
    .top-nav{justify-content:center}
}
</style>
</head>

<body>

<!-- ================= NAV ================= -->
<div class="top-nav">
    <h1>STOCK EXCHANGE MARKET</h1>
    <a href="#" onclick="show('dashboard')">Dashboard</a>
    <a href="#" onclick="show('investment')">Invest</a>
    <a href="#" onclick="show('history')">History</a>
    <a href="#" onclick="show('admin')" id="adminBtn" style="display:none">Admin</a>
    <a href="#" onclick="logout()">Logout</a>
</div>

<div class="ticker"><marquee id="ticker">Loading prices...</marquee></div>

<!-- ================= LOGIN ================= -->
<div id="loginModal" class="modal">
<div class="modal-content">
<h2>Login</h2>
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<button onclick="showRegister()" style="margin-top:10px;background:#2b3139;color:#fff">Create Account</button>
<div class="error" id="error"></div>
</div>
</div>

<!-- ================= REGISTER ================= -->
<div id="registerModal" class="modal">
<div class="modal-content">
<h2>Create Account</h2>
<input id="rname" placeholder="Full Name">
<input id="raddress" placeholder="Home Address">
<input id="rphone" placeholder="Phone Number">
<input id="remail" placeholder="Email">
<input id="rdob" type="date">
<input id="rpass" type="password" placeholder="Password">
<button onclick="register()">Create Account</button>
</div>
</div>

<!-- ================= DASHBOARD ================= -->
<div id="dashboard" class="dashboard container">
<div class="balances">
<div class="card balance-card"><h3>Main Balance</h3><p id="main">$0.00</p></div>
<div class="card balance-card"><h3>Profit</h3><p id="profit">$0.00</p></div>
<div class="card balance-card"><h3>Total</h3><p id="total">$0.00</p></div>
</div>

<div class="charts">
<div class="card"><canvas id="c1"></canvas></div>
<div class="card"><canvas id="c2"></canvas></div>
</div>

<div class="card">
<h3>Withdrawal Status</h3>
<p id="withdrawStatus"></p>
</div>

<div class="card">
<h3>Live Activity</h3>
<div class="activity" id="activity"></div>
</div>

<div class="actions">
<button onclick="downloadPDF()">Download Statement</button>
</div>
</div>

<!-- ================= INVEST ================= -->
<div id="investment" class="investment container">
<div class="card">
<h3>Invest Funds</h3>
<input id="amount" type="number" placeholder="Amount">
<button onclick="invest()">Invest</button>
</div>
</div>

<!-- ================= HISTORY ================= -->
<div id="history" class="history container">
<div class="card">
<h3>Transactions</h3>
<div id="transactions"></div>
</div>
</div>

<!-- ================= ADMIN ================= -->
<div id="admin" class="admin container">
<div class="card">
<h3>Admin Monitor</h3>
<div id="adminView"></div>
</div>
</div>

<footer>Â© 2026 Stock Exchange Market & Investment</footer>

<!-- ================= SCRIPTS ================= -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
const ADMIN_EMAIL="joyreuben122@gmail.com";
const ADMIN_PASS="Joyie";

let users=JSON.parse(localStorage.getItem("users")||"{}");
let current=null;

function save(){localStorage.setItem("users",JSON.stringify(users))}

function login(){
 const e=email.value,p=password.value;
 if(e===ADMIN_EMAIL&&p===ADMIN_PASS){
  current="ADMIN";adminBtn.style.display="inline";
  loginModal.style.display="none";show("admin");renderAdmin();return;
 }
 if(!users[e]||users[e].pass!==p){error.innerText="Invalid login";return}
 current=e;setCookie("session","on",365);
 loginModal.style.display="none";show("dashboard");load();
}

function logout(){
 eraseCookie("session");location.reload();
}

function show(id){
 document.querySelectorAll(".dashboard,.investment,.history,.admin")
 .forEach(d=>d.style.display="none");
 document.getElementById(id).style.display="block";
}

function showRegister(){
 loginModal.style.display="none";
 registerModal.style.display="flex";
}

function register(){
 users[remail.value]={
  name:rname.value,
  pass:rpass.value,
  main:0,profit:0,
  created:Date.now(),
  log:["Account created"]
 };
 save();registerModal.style.display="none";
 alert("Account created. Login.");
 loginModal.style.display="flex";
}

function load(){
 const u=users[current];
 main.innerText="$"+u.main.toFixed(2);
 profit.innerText="$"+u.profit.toFixed(2);
 total.innerText="$"+(u.main+u.profit).toFixed(2);
 activity.innerHTML=u.log.map(l=>`<div>${l}</div>`).join("");
 updateWithdraw();
}

function invest(){
 const a=parseFloat(amount.value);
 if(!a)return;
 users[current].profit+=a;
 users[current].log.unshift(`Invested $${a}`);
 save();load();
}

function updateWithdraw(){
 const u=users[current];
 const unlock=u.created+1000*60*60*24*180;
 withdrawStatus.innerText=Date.now()>unlock?"Withdrawals Enabled":"Locked for "+Math.ceil((unlock-Date.now())/86400000)+" days";
}

function renderAdmin(){
 adminView.innerHTML=Object.keys(users).map(u=>`<div>${u} : $${users[u].main}</div>`).join("");
}

function dailyInterest(){
 const d=new Date().toLocaleString("en-US",{timeZone:"America/New_York"});
 if(new Date(d).getHours()===8){
  if(current&&users[current]){
   users[current].main+=65;
   users[current].profit+=65;
   users[current].log.unshift("+$65 Daily Interest");
   save();load();
  }
 }
}
setInterval(dailyInterest,60000);

async function prices(){
 const r=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=usd");
 const d=await r.json();
 ticker.innerText=`BTC $${d.bitcoin.usd} | ETH $${d.ethereum.usd}`;
}
setInterval(prices,30000);prices();

function downloadPDF(){
 const {jsPDF}=window.jspdf;
 const u=users[current];
 const pdf=new jsPDF();
 pdf.text("Account Statement",10,10);
 pdf.text(`Balance: $${u.main}`,10,20);
 pdf.text(`Profit: $${u.profit}`,10,30);
 pdf.save("statement.pdf");
}

/* COOKIES */
function setCookie(n,v,d){
 let t=new Date();t.setTime(t.getTime()+d*864e5);
 document.cookie=n+"="+v+";expires="+t.toUTCString()+";path=/";
}
function eraseCookie(n){document.cookie=n+"=;Max-Age=0;path=/"}

window.onload=()=>{
 if(document.cookie.includes("session"))loginModal.style.display="flex";
 else loginModal.style.display="flex";
}
</script>
</body>
</html>
